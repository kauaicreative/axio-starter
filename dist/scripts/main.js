"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).fitvids=e()}(function(){return function i(o,r,a){function s(n,e){if(!r[n]){if(!o[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(d)return d(n,!0);t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}t=r[n]={exports:{}};o[n][0].call(t.exports,function(e){var t=o[n][1][e];return s(t||e)},t,t.exports,i,o,r,a)}return r[n].exports}for(var d="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){var a=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object"];function s(e,t){return"string"==typeof e&&(t=e,e=document),Array.prototype.slice.call(e.querySelectorAll(t))}function d(e){return"string"==typeof e?e.split(",").map(i).filter(l):"[object Array]"===Object.prototype.toString.call(e)?(t=e.map(d).filter(l),[].concat.apply([],t)):e||[];var t}function l(e){return 0<e.length}function i(e){return e.replace(/^\s+|\s+$/g,"")}t.exports=function(e,t){var n;t=t||{},n=e=e||"body","[object Object]"===Object.prototype.toString.call(n)&&(t=e,e="body"),t.ignore=t.ignore||"",t.players=t.players||"";var i,o,r,e=s(e);l(e)&&(document.getElementById("fit-vids-style")||(document.head||document.getElementsByTagName("head")[0]).appendChild(((i=document.createElement("div")).innerHTML='<p>x</p><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}</style>',i.childNodes[1])),i=d(t.players),t=d(t.ignore),o=0<t.length?t.join():null,l(r=a.concat(i).join())&&e.forEach(function(e){s(e,r).forEach(function(e){var t,n;o&&e.matches(o)||/fluid-width-video-wrapper/.test((t=e).parentNode.className)||(n=parseInt(t.getAttribute("width"),10),e=parseInt(t.getAttribute("height"),10),n=isNaN(n)?t.clientWidth:n,e=(isNaN(e)?t.clientHeight:e)/n,t.removeAttribute("width"),t.removeAttribute("height"),n=document.createElement("div"),t.parentNode.insertBefore(n,t),n.className="fluid-width-video-wrapper",n.style.paddingTop=100*e+"%",n.appendChild(t))})}))}},{}]},{},[1])(1)});var tagFirstAndLastBlock=function(){var e=document.querySelector(".blocks");if(e){for(var t=0;t<e.childNodes.length;t++)if(3!==e.childNodes[t].nodeType&&void 0!==e.childNodes[t].classList){e.childNodes[t].classList.add("is-first-block");break}for(var n=e.childNodes.length-1;0<=n;n--)if(3!==e.childNodes[n].nodeType&&void 0!==e.childNodes[n].classList){e.childNodes[n].classList.add("is-last-block");break}}var i=document.querySelectorAll("[class*='__inner-container'], .inner-blocks");if(i.length)for(var o=0;o<i.length;o++){for(var r=0;r<i[o].childNodes.length;r++)if(3!==i[o].childNodes[r].nodeType&&void 0!==i[o].childNodes[r].classList){i[o].childNodes[r].classList.add("is-first-inner-block");break}for(var a=i[o].childNodes.length-1;0<=a;a--)if(3!==i[o].childNodes[a].nodeType&&void 0!==i[o].childNodes[a].classList){i[o].childNodes[a].classList.add("is-last-inner-block");break}}};tagFirstAndLastBlock(),fitvids();var responsive_tables_in_content=function(){var e=document.querySelectorAll(".blocks .wp-block-table table");if(e)for(var t=0;t<e.length;t++){e[t].classList.add("wp-block-table--responsive");var n=document.createElement("div");n.setAttribute("class",e[t].getAttribute("class")),e[t].removeAttribute("class"),e[t].parentNode.insertBefore(n,e[t]),n.appendChild(e[t])}};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}document.addEventListener("DOMContentLoaded",function(){responsive_tables_in_content()}),function(e){var t,n=['a[href]:not([tabindex^="-"]):not([inert])','area[href]:not([tabindex^="-"]):not([inert])',"input:not([disabled]):not([inert])","select:not([disabled]):not([inert])","textarea:not([disabled]):not([inert])","button:not([disabled]):not([inert])",'iframe:not([tabindex^="-"]):not([inert])','audio:not([tabindex^="-"]):not([inert])','video:not([tabindex^="-"]):not([inert])','[contenteditable]:not([tabindex^="-"]):not([inert])','[tabindex]:not([tabindex^="-"]):not([inert])'];function i(e,t){this._show=this.show.bind(this),this._hide=this.hide.bind(this),this._maintainFocus=this._maintainFocus.bind(this),this._bindKeypress=this._bindKeypress.bind(this),this.container=e,this.dialog=e.querySelector('dialog, [role="dialog"], [role="alertdialog"]'),this.role=this.dialog.getAttribute("role")||"dialog",this.useDialog="show"in document.createElement("dialog")&&"DIALOG"===this.dialog.nodeName,this._listeners={},this.create(t)}function o(e){return Array.prototype.slice.call(e)}function r(e,t){return o((t||document).querySelectorAll(e))}function a(e){var t=s(e),t=e.querySelector("[autofocus]")||t[0];t&&t.focus()}function s(e){return r(n.join(","),e).filter(function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)})}i.prototype.create=function(e){var t;return this._targets=this._targets||function(e){if(NodeList.prototype.isPrototypeOf(e))return o(e);if(Element.prototype.isPrototypeOf(e))return[e];if("string"==typeof e)return r(e)}(e)||(t=this.container,(e=o(t.parentNode.childNodes).filter(function(e){return 1===e.nodeType})).splice(e.indexOf(t),1),e),this.shown=this.dialog.hasAttribute("open"),this.dialog.setAttribute("role",this.role),this.useDialog?this.container.setAttribute("data-a11y-dialog-native",""):this.shown?this.container.removeAttribute("aria-hidden"):this.container.setAttribute("aria-hidden",!0),this._openers=r('[data-a11y-dialog-show="'+this.container.id+'"]'),this._openers.forEach(function(e){e.addEventListener("click",this._show)}.bind(this)),this._closers=r("[data-a11y-dialog-hide]",this.container).concat(r('[data-a11y-dialog-hide="'+this.container.id+'"]')),this._closers.forEach(function(e){e.addEventListener("click",this._hide)}.bind(this)),this._fire("create"),this},i.prototype.show=function(e){return this.shown||(this.shown=!0,t=document.activeElement,this.useDialog?this.dialog.showModal(e instanceof Event?void 0:e):(this.dialog.setAttribute("open",""),this.container.removeAttribute("aria-hidden"),this._targets.forEach(function(e){e.setAttribute("aria-hidden","true")})),a(this.dialog),document.body.addEventListener("focus",this._maintainFocus,!0),document.addEventListener("keydown",this._bindKeypress),this._fire("show",e)),this},i.prototype.hide=function(e){return this.shown&&(this.shown=!1,this.useDialog?this.dialog.close(e instanceof Event?void 0:e):(this.dialog.removeAttribute("open"),this.container.setAttribute("aria-hidden","true"),this._targets.forEach(function(e){e.removeAttribute("aria-hidden")})),t&&t.focus&&t.focus(),document.body.removeEventListener("focus",this._maintainFocus,!0),document.removeEventListener("keydown",this._bindKeypress),this._fire("hide",e)),this},i.prototype.destroy=function(){return this.hide(),this._openers.forEach(function(e){e.removeEventListener("click",this._show)}.bind(this)),this._closers.forEach(function(e){e.removeEventListener("click",this._hide)}.bind(this)),this._fire("destroy"),this._listeners={},this},i.prototype.on=function(e,t){return void 0===this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t),this},i.prototype.off=function(e,t){t=this._listeners[e].indexOf(t);return-1<t&&this._listeners[e].splice(t,1),this},i.prototype._fire=function(e,t){(this._listeners[e]||[]).forEach(function(e){e(this.container,t)}.bind(this))},i.prototype._bindKeypress=function(e){var t,n;this.shown&&27===e.which&&"alertdialog"!==this.role&&(e.preventDefault(),this.hide(e)),this.shown&&9===e.which&&(t=this.dialog,n=e,e=s(t),t=e.indexOf(document.activeElement),n.shiftKey&&0===t?(e[e.length-1].focus(),n.preventDefault()):n.shiftKey||t!==e.length-1||(e[0].focus(),n.preventDefault()))},i.prototype._maintainFocus=function(e){this.shown&&!this.container.contains(e.target)&&a(this.dialog)},"undefined"!=typeof module&&void 0!==module.exports?module.exports=i:"function"==typeof define&&define.amd?define("A11yDialog",[],function(){return i}):"object"===_typeof(e)&&(e.A11yDialog=i)}("undefined"!=typeof global?global:window);for(var component_dropdown_menu=function(e){var o,t=e.desktop_min_width,d=e.menu;if(d){var l=function(e){s()&&(o=setTimeout(function(e){h(e)},750,e.currentTarget))},c=function(e){var t;(t=a(e.currentTarget,"menu-item-has-children"))&&("false"===t.getAttribute("aria-expanded")?u:h)(t),e.stopPropagation()};return function(){f();for(var e=d.querySelectorAll(".menu-item"),t=0;t<e.length;t++)e[t].addEventListener("mouseenter",p),e[t].addEventListener("mouseleave",l);for(var n=d.querySelectorAll(".js-menu-caret"),i=0;i<n.length;i++)n[i].addEventListener("click",c);for(var o=d.querySelectorAll('a[href="#"]'),r=0;r<o.length;r++)o[r].addEventListener("click",m);for(var a=d.querySelectorAll(".menu-item-has-children a"),s=0;s<a.length;s++)a[s].addEventListener("touchstart",g,{passive:!0})}(),this}function r(e,t){for(var n=[],i=e.parentElement;!i.isEqualNode(d);)i.classList.contains(t)&&n.push(i),i=i.parentElement;return n}function a(e,t){t=r(e,t);return t.length?t[0]:null}function s(){return!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<t)}function u(e){if(e){var t=e.querySelector(".sub-menu");t&&(e.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),t.getBoundingClientRect().right>(window.innerWidth||document.documentElement.clientWidth)&&t.classList.add("is-out-of-bounds"));for(var n=r(e,"menu-item-has-children"),i=0;i<n.length;i++)u(n[i])}}function h(e){if(e){e.classList.remove("is-clicked");var t=e.querySelector(".sub-menu");t&&(e.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),t.classList.remove("is-out-of-bounds"));for(var n=e.querySelectorAll(".menu-item-has-children"),i=0;i<n.length;i++)h(n[i])}}function f(){for(var e=d.querySelectorAll(".menu-item-has-children"),t=0;t<e.length;t++)h(e[t]),e[t].classList.remove("is-tapped")}function p(e){if(s()){clearTimeout(o);for(var t=r(e.currentTarget,"menu-item-has-children"),n=d.querySelectorAll(".menu-item-has-children"),i=0;i<n.length;i++)n[i]!==e.currentTarget&&-1===t.indexOf(n[i])&&h(n[i]);u(e.currentTarget)}}function m(e){e.preventDefault();e=a(e.currentTarget,"menu-item-has-children");e&&(e.classList.contains("is-clicked")?(h(e),e.classList.remove("is-clicked")):(u(e),e.classList.add("is-clicked")))}function b(e){s()&&!function(e){for(;null!==(e=e.parentElement);)if(e.nodeType===Node.ELEMENT_NODE&&e.isEqualNode(d))return 1}(e.currentTarget)&&f(),document.removeEventListener("ontouchstart",b,!1)}function g(e){if(s()){var t=a(e.currentTarget,"menu-item-has-children");if(!t.classList.contains("is-tapped")){e.preventDefault();for(var n=r(e.currentTarget,"menu-item-has-children"),i=d.querySelectorAll(".menu-item-has-children"),o=0;o<i.length;o++)i[o]!==e.currentTarget&&-1===n.indexOf(i[o])&&(i[o].classList.remove("is-tapped"),h(i[o]));t.classList.add("is-tapped"),u(t),document.addEventListener("touchstart",b,{passive:!0})}}}console.log("Invalid drop-down menu")},dropdown_menus=document.querySelectorAll(".js-navigation"),i=0;i<dropdown_menus.length;i++)component_dropdown_menu({desktop_min_width:890,menu:dropdown_menus[i]});var component_mobile_menu=function(e){var t=e.menu,n=e.site,i=e.toggles;if(t&&n&&i.length){var o=new A11yDialog(t,n);o.on("show",function(e,t){document.body.classList.add("is-active-menu")}),o.on("hide",function(e,t){document.body.classList.add("is-closing-menu"),setTimeout(function(){document.body.classList.remove("is-active-menu"),document.body.classList.remove("is-closing-menu")},200)});for(var r=function(e){document.body.classList.contains("is-active-menu")?o.hide():o.show()},a=0;a<i.length;a++)i[a].addEventListener("click",r,!1);return this}console.log("Invalid mobile_menu args")};component_mobile_menu({menu:document.querySelector(".js-mobile-menu"),site:document.querySelector(".js-page"),toggles:document.querySelectorAll(".js-menu-toggle")});var bodyHeroBackgroundIndicator=function(){document.querySelector(".hero--no-background")&&document.body.classList.add("has-no-hero-background")};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}bodyHeroBackgroundIndicator(),function(e,t){"function"==typeof define&&define.amd?define(t):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=t():e.Tobi=t()}(this,function(){return function(e){var t=window,i=['a[href]:not([tabindex^="-"]):not([inert])','area[href]:not([tabindex^="-"]):not([inert])',"input:not([disabled]):not([inert])","select:not([disabled]):not([inert])","textarea:not([disabled]):not([inert])","button:not([disabled]):not([inert])",'iframe:not([tabindex^="-"]):not([inert])','audio:not([tabindex^="-"]):not([inert])','video:not([tabindex^="-"]):not([inert])','[contenteditable]:not([tabindex^="-"]):not([inert])','[tabindex]:not([tabindex^="-"]):not([inert])'],o=[],r=[],a={gallery:[],slider:null,sliderElements:[],elementsLength:0,currentIndex:0,x:0},s={},d=0,l=null,n=null,c=null,u=null,h=null,f={},p=!1,m=!1,b=!1,g=null,y=null,v=null,w=!1,A=!1,L=0,E={},_=null,x=null,S={image:{checkSupport:function(e){return!e.hasAttribute("data-type")&&e.href.match(/\.(png|jpe?g|tiff|tif|gif|bmp|webp|svg|ico)(\?.*)?$/i)},init:function(e,t){var n=document.createElement("figure"),i=document.createElement("figcaption"),o=document.createElement("img"),r=e.querySelector("img"),a=document.createElement("div");o.style.opacity="0",r&&(o.alt=r.alt||""),o.setAttribute("src",""),o.setAttribute("data-src",e.href),n.appendChild(o),s.captions&&(i.style.opacity="0","self"===s.captionsSelector&&e.getAttribute(s.captionAttribute)?i.textContent=e.getAttribute(s.captionAttribute):"img"===s.captionsSelector&&r&&r.getAttribute(s.captionAttribute)&&(i.textContent=r.getAttribute(s.captionAttribute)),i.textContent&&(i.id="tobi-figcaption-"+d,n.appendChild(i),o.setAttribute("aria-labelledby",i.id),++d)),t.appendChild(n),a.className="tobi-loader",a.setAttribute("role","progressbar"),a.setAttribute("aria-label",s.loadingIndicatorLabel),t.appendChild(a),t.setAttribute("data-type","image")},onPreload:function(e){S.image.onLoad(e)},onLoad:function(e){var t,n,i=e.querySelector("img");i.hasAttribute("data-src")&&(t=e.querySelector("figcaption"),n=e.querySelector(".tobi-loader"),i.onload=function(){e.removeChild(n),i.style.opacity="1",t&&(t.style.opacity="1")},i.setAttribute("src",i.getAttribute("data-src")),i.removeAttribute("data-src"))},onLeave:function(e){},onCleanup:function(e){}},html:{checkSupport:function(e){return ue(e,"html")},init:function(e,t){var n=e.hasAttribute("href")?e.getAttribute("href"):e.getAttribute("data-target"),e=document.querySelector(n);if(!e)throw new Error("Ups, I can't find the target "+n+".");t.appendChild(e),t.setAttribute("data-type","html")},onPreload:function(e){},onLoad:function(e){e=e.querySelector("video");e&&(e.hasAttribute("data-time")&&0<e.readyState&&(e.currentTime=e.getAttribute("data-time")),s.autoplayVideo&&e.play())},onLeave:function(e){e=e.querySelector("video");e&&(e.paused||e.pause(),0<e.readyState&&e.setAttribute("data-time",e.currentTime))},onCleanup:function(e){var t,n=e.querySelector("video");n&&0<n.readyState&&n.readyState<3&&n.duration!==n.currentTime&&(t=n.cloneNode(!0),he(n),n.load(),n.parentNode.removeChild(n),e.appendChild(t))}},iframe:{checkSupport:function(e){return ue(e,"iframe")},init:function(e,t){var n=document.createElement("iframe"),i=e.hasAttribute("href")?e.getAttribute("href"):e.getAttribute("data-target");n.setAttribute("frameborder","0"),n.setAttribute("src",""),n.setAttribute("data-src",i),e.getAttribute("data-width")&&(n.style.maxWidth=e.getAttribute("data-width")+"px"),e.getAttribute("data-height")&&(n.style.maxHeight=e.getAttribute("data-height")+"px"),t.appendChild(n),t.setAttribute("data-type","iframe")},onPreload:function(e){},onLoad:function(e){e=e.querySelector("iframe");e.setAttribute("src",e.getAttribute("data-src"))},onLeave:function(e){},onCleanup:function(e){}},youtube:{checkSupport:function(e){return ue(e,"youtube")},init:function(e,t){var n=document.createElement("div");t.appendChild(n),r[L]=new window.YT.Player(n,{host:"https://www.youtube-nocookie.com",height:e.getAttribute("data-height")||"360",width:e.getAttribute("data-width")||"640",videoId:e.getAttribute("data-id"),playerVars:{controls:e.getAttribute("data-controls")||1,rel:0,playsinline:1}}),t.setAttribute("data-player",L),t.setAttribute("data-type","youtube"),L++},onPreload:function(e){},onLoad:function(e){s.autoplayVideo&&r[e.getAttribute("data-player")].playVideo()},onLeave:function(e){1===r[e.getAttribute("data-player")].getPlayerState()&&r[e.getAttribute("data-player")].pauseVideo()},onCleanup:function(e){1===r[e.getAttribute("data-player")].getPlayerState()&&r[e.getAttribute("data-player")].pauseVideo()}}};Object.entries||(Object.entries=function(e){for(var t=Object.keys(e),n=t.length,i=new Array(n);n--;)i[n]=[t[n],e[t[n]]];return i});function N(e,t){var n,i;null===document.querySelector('[data-type="youtube"]')||A?$(e,t):(null===document.getElementById("iframe_api")&&(n=document.createElement("script"),i=document.getElementsByTagName("script")[0],n.id="iframe_api",n.src="https://www.youtube.com/iframe_api",i.parentNode.insertBefore(n,i)),-1===o.indexOf(e)&&o.push(e),window.onYouTubePlayerAPIReady=function(){Array.prototype.forEach.call(o,function(e){$(e,t)}),A=!0})}function k(e,t){var n,i,o=J(e);-1===E[o].gallery.indexOf(e)||(i=E[o].gallery.indexOf(e),n=E[o].sliderElements[i],E[o].elementsLength--,s.zoom&&e.querySelector(".tobi-zoom__icon")&&((i=e.querySelector(".tobi-zoom__icon")).parentNode.classList.remove("tobi-zoom"),i.parentNode.removeChild(i)),e.removeEventListener("click",z),n.parentNode.removeChild(n),R()&&o===x&&(K(),W()),t&&t.call(this))}function C(){(l=document.createElement("div")).setAttribute("role","dialog"),l.setAttribute("aria-hidden","true"),l.className="tobi",(n=document.createElement("button")).className="tobi__prev",n.setAttribute("type","button"),n.setAttribute("aria-label",s.navLabel[0]),n.innerHTML=s.navText[0],l.appendChild(n),(c=document.createElement("button")).className="tobi__next",c.setAttribute("type","button"),c.setAttribute("aria-label",s.navLabel[1]),c.innerHTML=s.navText[1],l.appendChild(c),(u=document.createElement("button")).className="tobi__close",u.setAttribute("type","button"),u.setAttribute("aria-label",s.closeLabel),u.innerHTML=s.closeText,l.appendChild(u),(h=document.createElement("div")).className="tobi__counter",l.appendChild(h),t.addEventListener("resize",function(){w||(w=!0,t.requestAnimationFrame(function(){Z(),w=!1}))}),document.body.appendChild(l)}function T(){E[_].slider=document.createElement("div"),E[_].slider.className="tobi__slider",l.appendChild(E[_].slider)}function q(e){for(var t in S)if(Object.prototype.hasOwnProperty.call(S,t)&&S[t].checkSupport(e)){var n=document.createElement("div"),i=document.createElement("div");n.className="tobi__slide",n.style.position="absolute",n.style.left=100*E[_].x+"%",S[t].init(e,i),n.appendChild(i),E[_].slider.appendChild(n),E[_].sliderElements.push(n),++E[_].x;break}}function I(e){if(!R())throw new Error("Tobi is already closed.");s.hideScrollbar&&(document.documentElement.classList.remove("tobi-is-open"),document.body.classList.remove("tobi-is-open")),F(),g.focus();var t=E[x].sliderElements[E[x].currentIndex].querySelector("[data-type]"),n=t.getAttribute("data-type");S[n].onLeave(t),S[n].onCleanup(t),l.setAttribute("aria-hidden","true"),E[x].currentIndex=0,e&&e.call(this)}function O(e){var t;void 0!==E[x].sliderElements[e]&&(e=(t=E[x].sliderElements[e].querySelector("[data-type]")).getAttribute("data-type"),S[e].onPreload(t))}function j(e){var t,n;void 0!==E[x].sliderElements[e]&&(n=(t=E[x].sliderElements[e].querySelector("[data-type]")).getAttribute("data-type"),E[x].sliderElements[e].classList.add("tobi__slide--is-active"),S[n].onLoad(t))}function D(e){0<E[x].currentIndex&&(M(E[x].currentIndex),j(--E[x].currentIndex),W("left"),X(E[x].currentIndex+1),O(E[x].currentIndex-1),e&&e.call(this))}function P(e){E[x].currentIndex<E[x].elementsLength-1&&(M(E[x].currentIndex),j(++E[x].currentIndex),W("right"),X(E[x].currentIndex-1),O(E[x].currentIndex+1),e&&e.call(this))}function M(e){var t,n;void 0!==E[x].sliderElements[e]&&(n=(t=E[x].sliderElements[e].querySelector("[data-type]")).getAttribute("data-type"),E[x].sliderElements[e].classList.remove("tobi__slide--is-active"),S[n].onLeave(t))}function X(e){var t;void 0!==E[x].sliderElements[e]&&(e=(t=E[x].sliderElements[e].querySelector("[data-type]")).getAttribute("data-type"),S[e].onCleanup(t))}function Y(){f={startX:0,endX:0,startY:0,endY:0}}function B(){var e=f.endX-f.startX,t=f.endY-f.startY,n=Math.abs(e),i=Math.abs(t);(0<e&&n>s.threshold&&0<E[x].currentIndex?D:e<0&&n>s.threshold&&E[x].currentIndex!==E[x].elementsLength-1?P:t<0&&i>s.threshold&&s.swipeClose?I:Z)()}function z(e){e.preventDefault(),x=J(this),Q(E[x].gallery.indexOf(this))}function H(){0<Math.abs(f.startX-f.endX)&&!m&&s.swipeClose?(E[x].slider.style.transform="translate3d("+(v-Math.round(f.startX-f.endX))+"px, 0, 0)",m=!(p=!0)):0<Math.abs(f.startY-f.endY)&&!p&&(E[x].slider.style.transform="translate3d("+v+"px, -"+Math.round(f.startY-f.endY)+"px, 0)",m=!(p=!1))}function U(){s.keyboard&&document.addEventListener("keydown",ie),l.addEventListener("click",ne),s.draggable&&(pe()&&(l.addEventListener("touchstart",oe),l.addEventListener("touchmove",re),l.addEventListener("touchend",ae)),l.addEventListener("mousedown",se),l.addEventListener("mouseup",le),l.addEventListener("mousemove",de),l.addEventListener("contextmenu",ce))}function F(){s.keyboard&&document.removeEventListener("keydown",ie),l.removeEventListener("click",ne),s.draggable&&(pe()&&(l.removeEventListener("touchstart",oe),l.removeEventListener("touchmove",re),l.removeEventListener("touchend",ae)),l.removeEventListener("mousedown",se),l.removeEventListener("mouseup",le),l.removeEventListener("mousemove",de),l.removeEventListener("contextmenu",ce))}function K(){s.draggable&&1<E[x].elementsLength&&!E[x].slider.classList.contains("tobi__slider--is-draggable")&&E[x].slider.classList.add("tobi__slider--is-draggable"),!s.nav||1===E[x].elementsLength||"auto"===s.nav&&pe()?(n.setAttribute("aria-hidden","true"),c.setAttribute("aria-hidden","true")):(n.setAttribute("aria-hidden","false"),c.setAttribute("aria-hidden","false")),s.counter&&1!==E[x].elementsLength?h.setAttribute("aria-hidden","false"):h.setAttribute("aria-hidden","true")}function W(e){fe(),Z(),ee(),te(e)}function V(e){R()&&I();var t=Object.entries(E);Array.prototype.forEach.call(t,function(e){e=e[1].gallery;Array.prototype.forEach.call(e,function(e){k(e)})}),E={},_=x=null,d=0,e&&e.call(this)}function R(){return"false"===l.getAttribute("aria-hidden")}function G(e){return-1!==["TEXTAREA","OPTION","INPUT","SELECT"].indexOf(e.nodeName)||e===n||e===c||e===u||1===E[x].elementsLength}var J=function(e){return e.hasAttribute("data-group")?e.getAttribute("data-group"):"default"},$=function(e,t){var n;if(_=J(e),Object.prototype.hasOwnProperty.call(E,_)||(E[_]=JSON.parse(JSON.stringify(a)),T()),-1!==E[_].gallery.indexOf(e))throw new Error("Ups, element already added to the lightbox.");E[_].gallery.push(e),E[_].elementsLength++,s.zoom&&e.querySelector("img")&&((n=document.createElement("div")).className="tobi-zoom__icon",n.innerHTML=s.zoomText,e.classList.add("tobi-zoom"),e.appendChild(n)),e.addEventListener("click",z),q(e),R()&&_===x&&(K(),W()),t&&t.call(this)},Q=function(e,t){if(x=null!==x?x:_,R()||e||(e=0),R()){if(!e)throw new Error("Ups, Tobi is aleady open.");if(e===E[x].currentIndex)throw new Error("Ups, slide "+e+" is already selected.")}if(-1===e||e>=E[x].elementsLength)throw new Error("Ups, I can't find slide "+e+".");s.hideScrollbar&&(document.documentElement.classList.add("tobi-is-open"),document.body.classList.add("tobi-is-open")),K(),s.close||(u.disabled=!1,u.setAttribute("aria-hidden","true")),g=document.activeElement,E[x].currentIndex=e,Y(),U(),j(E[x].currentIndex),l.setAttribute("aria-hidden","false"),W(),O(E[x].currentIndex+1),O(E[x].currentIndex-1),t&&t.call(this)},Z=function(){y=-E[x=null!==x?x:_].currentIndex*window.innerWidth,E[x].slider.style.transform="translate3d("+y+"px, 0, 0)",v=y},ee=function(){h.textContent=E[x].currentIndex+1+"/"+E[x].elementsLength},te=function(e){var t;s.nav?(n.disabled=!1,c.disabled=!1,("left"===e?n:c).focus(),1===E[x].elementsLength?(n.disabled=!0,c.disabled=!0,s.close&&u.focus()):(0===E[x].currentIndex&&(n.disabled=!0,c.focus()),E[x].currentIndex===E[x].elementsLength-1&&(c.disabled=!0,n.focus()))):s.close&&u.focus(),t=l.querySelectorAll(".tobi > button:not(:disabled)"),t[0],1===t.length?t[0]:t[t.length-1]},ne=function(e){e.target===n?D():e.target===c?P():(e.target===u||e.target.classList.contains("tobi__slide")&&s.docClose)&&I(),e.stopPropagation()},ie=function(e){var t=Array.prototype.slice.call(l.querySelectorAll(".tobi__close:not([disabled]), .tobi__prev:not([disabled]), .tobi__next:not([disabled]), .tobi__slide--is-active + "+i.join(", .tobi__slide--is-active "))).filter(function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}),n=t.indexOf(document.activeElement);9===e.keyCode||"Tab"===e.code?e.shiftKey&&0===n?(t[t.length-1].focus(),e.preventDefault()):e.shiftKey||n!==t.length-1||(t[0].focus(),e.preventDefault()):27===e.keyCode||"Escape"===e.code?(e.preventDefault(),I()):37===e.keyCode||"ArrowLeft"===e.code?(e.preventDefault(),D()):39!==e.keyCode&&"ArrowRight"!==e.code||(e.preventDefault(),P())},oe=function(e){G(e.target)||(e.stopPropagation(),b=!0,f.startX=e.touches[0].pageX,f.startY=e.touches[0].pageY,E[x].slider.classList.add("tobi__slider--is-dragging"))},re=function(e){e.stopPropagation(),b&&(e.preventDefault(),f.endX=e.touches[0].pageX,f.endY=e.touches[0].pageY,H())},ae=function(e){e.stopPropagation(),b=!1,E[x].slider.classList.remove("tobi__slider--is-dragging"),f.endX&&(m=p=!1,B()),Y()},se=function(e){G(e.target)||(e.preventDefault(),e.stopPropagation(),b=!0,f.startX=e.pageX,f.startY=e.pageY,E[x].slider.classList.add("tobi__slider--is-dragging"))},de=function(e){e.preventDefault(),b&&(f.endX=e.pageX,f.endY=e.pageY,H())},le=function(e){e.stopPropagation(),b=!1,E[x].slider.classList.remove("tobi__slider--is-dragging"),f.endX&&(m=p=!1,B()),Y()},ce=function(e){b=!1},ue=function(e,t){return e.getAttribute("data-type")===t},he=function(e){e=e.querySelectorAll("src");e&&Array.prototype.forEach.call(e,function(e){e.setAttribute("src","")})},fe=function(){for(var e in E)Object.prototype.hasOwnProperty.call(E,e)&&(E[e].slider.style.display=x===e?"block":"none")},pe=function(){return"ontouchstart"in window};return function(e){var t,n;n={selector:".lightbox",captions:!0,captionsSelector:"img",captionAttribute:"alt",nav:"auto",navText:['<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M14 18l-6-6 6-6"/></svg>','<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M10 6l6 6-6 6"/></svg>'],navLabel:["Previous image","Next image"],close:!0,closeText:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewbox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M6 6l12 12M6 18L18 6"/></svg>',closeLabel:"Close lightbox",loadingIndicatorLabel:"Image loading",counter:!0,download:!1,downloadText:"",downloadLabel:"Download image",keyboard:!0,zoom:!0,zoomText:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" aria-hidden="true" focusable="false"><path d="M21 16v5h-5"/><path d="M8 21H3v-5"/><path d="M16 3h5v5"/><path d="M3 8V3h5"/></svg>',docClose:!0,swipeClose:!0,hideScrollbar:!0,draggable:!0,threshold:100,rtl:!1,loop:!1,autoplayVideo:!1},(t=e)&&Object.keys(t).forEach(function(e){n[e]=t[e]}),s=n,l||C();e=document.querySelectorAll(s.selector);if(!e)throw new Error("Ups, I can't find the selector "+s.selector+".");Array.prototype.forEach.call(e,function(e){N(e)})}(e),{open:Q,prev:D,next:P,close:I,add:N,remove:k,reset:V,destroy:function(e){V(),l.parentNode.removeChild(l),e&&e.call(this)},isOpen:R,currentSlide:function(){return E[x].currentIndex},selectGroup:function(e){if(R())throw new Error("Ups, I can't do this. Tobi is open.");if(e){if(e&&!Object.prototype.hasOwnProperty.call(E,e))throw new Error("Ups, I don't have a group called \""+e+'".');x=e}},currentGroup:function(){return null!==x?x:_}}}});var lightboxesInContent=function(){var e=document.querySelectorAll(".blocks-gallery-item > figure > a, .gallery-item > .gallery-icon > a, .wp-block-image a, p > a > img, p > a > .wp-block-image");if(e.length)for(var t=0;t<e.length;t++){var n=e[t],i=[".jpg",".png",".jpeg",".gif"];if(n.href){for(var o=0;o<i.length;o++)n.href.includes(i[o])&&n.classList.add("lightbox");n.nextElementSibling?"figcaption"===n.nextElementSibling.nodeName.toLowerCase()&&(n.dataset.caption=n.nextElementSibling.innerText):n.parentNode.nextElementSibling&&"figcaption"===n.parentNode.nextElementSibling.nodeName.toLowerCase()&&(n.dataset.caption=n.parentNode.nextElementSibling.innerText)}else if(n.parentNode.href)for(var r=0;r<i.length;r++)n.parentNode.href.includes(i[r])&&n.parentNode.classList.add("lightbox")}};lightboxesInContent(),document.addEventListener("DOMContentLoaded",function(){if(0<document.querySelectorAll(".lightbox").length)try{new Tobi({navLabel:[theme_strings_lightbox.prev,theme_strings_lightbox.next],closeLabel:theme_strings_lightbox.close,loadingIndicatorLabel:theme_strings_lightbox.loading,captionsSelector:"self",captionAttribute:"data-caption",zoom:!1})}catch(e){console.log(e)}});
//# sourceMappingURL=main.js.map
